<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Blog</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/blog.css">

</head>
<body>


<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">B's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home <span class="sr-only">(current)</span></a></li>
                <li><a href="#">About Me</a></li>
                <li><a href="#">Favorites</a></li>

            </ul>
            <form class="navbar-form navbar-right">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Search</button>
            </form>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>



<div class="jumbotron">
    <h1>B's Blog</h1>
    <!--<div class="transbox"></div>-->
</div>





















<div id="posts"></div>

<button id="add">upload</button>












<script src="js/jquery-2.2.4.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>

function updatePage(data) {
    // buildHTML(data);
    var ajaxRequest = $.ajax("data/blog.json");

    ajaxRequest.done(function (data) {
        buildHTML(data);
    });

    ajaxRequest.fail(function (status) {
        console.log(status);
    });
}
updatePage();



function buildHTML(posts){
    var html = "";
    // html += "<hr>";
    posts.forEach(function (post) {
        html += "<hr>";
        html += "<h1>" + post.title + "</h1>";
        html += "<p>" + post.content + "</p>";
        html += "<p>" + post.categories + "</p>";
        html += "<p>" + post.date + "</p>";

    });

    html += "<hr>";
    $("#posts").html(html);

}


$("#add").click(updatePage);
updatePage();






</script>

</body>
</html>